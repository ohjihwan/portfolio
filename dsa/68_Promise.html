<!DOCTYPE html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Promise</title>
</head>
<body>

</body>
<script>
	/* console.log('요청을 보냅니다...')
	const getData = new Promise((resolve, reject) => {
		setTimeout(() => {
			const success = true
			if(success) {
				resolve('서버에서 데이터를 성공적으로 받아왔습니다')
			} else {
				reject('서버 요청 실패!')
			}
		},2000)
	})

	getData.then( (result) => {
		console.log('성공: ', result);
	})
	.catch ((error) => {
		console.log('실패: ', error);
	})
	.finally(() => {
		console.log('작업 완료')
	}) */
	function orderCoffee(menu){
		console.log(`${menu} 주문을 접수했습니다 잠시만 기다려주세요`);
		const availableMenu = ['아메리카노','카페라떼', '바닐라라뗴'];

		return new Promise((resolve, reject) => {
			setTimeout(() => {
				if(availableMenu.includes(menu)) {
					resolve(`${menu}가 준비되었습니다 맛있게드세요`)
				} else {
					reject(`죄송합니다. ${menu}는 판매하지 않습니다.`)
				}
			}, 2000);
		})
	}

	orderCoffee('녹차')
		.then((message) => {
			console.log(message)
		})
		.catch((error) => {
			console.log(error)
		})
		.finally((message) => {
			console.log('주문이 완료되었습니다')
		})
</script>
</html>